# Отчет по выполненному проекту: Telegram-бот для рекомендаций книг

## 1. Цели и задачи проекта

**Цель**: Разработать Telegram-бота, который будет предоставлять рекомендации книг на основе пользовательского ввода. Для достижения этой цели использовались две модели:
- **Коллаборативная фильтрация**: Рекомендует книги, основываясь на взаимодействиях пользователей с книгами.
- **Контентная фильтрация**: Учитывает особенности книг (категории, авторов и сентимент).

### Задачи:
1. Разработать и интегрировать модели коллаборативной и контентной фильтрации.
2. Разработать функциональность Telegram-бота для обработки пользовательских запросов.
3. Обеспечить корректную обработку ошибок и предоставление рекомендаций.

---

## 2. Выполненные работы

### 2.1 Разработка кода

1. **Файл `utils.py`**: 
   - Разработан модуль, предоставляющий функции для загрузки моделей и получения рекомендаций.
   - Реализованы следующие функции:
     - **`get_collaborative_recommendations`**: Использует коллаборативную модель для генерации рекомендаций на основе названия книги.
     - **`get_content_based_recommendations`**: Уточняет рекомендации, учитывая контентные особенности книг.
     - **`load_models`**: Загружает модели и данные.
     - **`recommend_books`**: Интеграция обеих моделей для выдачи рекомендаций.

2. **Файл `bot.py`**:
   - Основной код Telegram-бота.
   - Реализованы обработчики команд:
     - `/start`: Приветствие пользователя.
     - `/recommend <название книги>`: Генерация рекомендаций на основе пользовательского ввода.
   - Бот использует библиотеку `python-telegram-bot` и подключает функции из `utils.py`.

3. **Модели и данные, которые использовались**:
   - Коллаборативная модель (`collaborative_model.pth`) обучена на данных взаимодействия пользователей с книгами.
   - Модель контентной фильтрации (`content_based_model.pth`) обучена на данных о категориях, авторах и сентименте книг.
   - Файл `merged_dataframe_with_sentiment_labels.csv` содержит агрегированные данные о книгах.

---


## 2. Логика работы системы

1. **Пользовательский ввод**: Пользователь вводит название книги или автора через Telegram-бота.
2. **Обработка ввода**:
   - Если ввод пустой, бот запрашивает данные у пользователя.
   - Если ввод валиден, данные передаются в функцию `recommend_books`.
3. **Рекомендации**:
   - Сначала используется коллаборативная модель для нахождения похожих книг.
   - Затем контентная модель уточняет рекомендации, учитывая категорию, автора и сентимент.
4. **Результат**:
   - Если рекомендации найдены, пользователь получает список книг.
   - В случае ошибок или отсутствия данных выводится соответствующее сообщение.

---

## 3. Пример работы

### Команды:
- `/start`: Приветствие.
  ```
  Привет! Я рекомендую книги. Напишите название книги или автора.
  ```

- `/recommend Harry Potter`: Получение рекомендаций.
  ```
  Рекомендации:
  1. "Harry Potter and the Chamber of Secrets"
  2. "Harry Potter and the Prisoner of Azkaban"
  3. "The Hobbit"
  ```

### Обработка ошибок:
- Если книга не найдена:
  ```
  Книги не найдены.
  ```

- Если возникает ошибка:
  ```
  Произошла ошибка: <описание ошибки>
  ```

---

## 5. Достижения

1. Успешно реализованы и интегрированы две модели: коллаборативная и контентная фильтрация.
2. Telegram-бот корректно обрабатывает пользовательские запросы и предоставляет рекомендации.
3. Обеспечена обработка ошибок и удобство взаимодействия для пользователей.

---

## 6. Возможности для улучшения

1. **Масштабирование данных**:
   - Поддержка большего объема данных о книгах.
   - Интеграция дополнительных источников, таких как отзывы пользователей.

2. **Функциональность бота**:
   - Поддержка фильтров (например, по категориям книг или авторам).
   - Реализация дополнительных команд для получения информации о книгах.

3. **Интерфейс**:
   - Добавление кнопок для навигации в чате Telegram.
   - Интеграция с внешними API для получения информации о книгах.

---

## 7. Заключение

Разработанный Telegram-бот предоставляет рекомендации по книгам, используя продвинутые методы машинного обучения. Этот проект может быть расширен и усовершенствован для более широкого использования, например, в онлайн-библиотеках или книжных магазинах.
```
